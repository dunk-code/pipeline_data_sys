(function(t){function e(e){for(var o,l,r=e[0],n=e[1],c=e[2],u=0,p=[];u<r.length;u++)l=r[u],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&p.push(i[l][0]),i[l]=0;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);h&&h(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,r=1;r<a.length;r++){var n=a[r];0!==i[n]&&(o=!1)}o&&(s.splice(e--,1),t=l(l.s=a[0]))}return t}var o={},i={app:0},s=[];function l(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=o,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(a,o,function(e){return t[e]}.bind(null,o));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],n=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var h=n;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0e05":function(t,e,a){},"3aff":function(t,e,a){},"4a1e":function(t,e,a){"use strict";a("6904")},"4f91":function(t,e,a){},5143:function(t,e,a){"use strict";a("0e05")},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("el-header",[t._v("管道公司数据标准管理平台")]),e("router-view")],1)},s=[],l=(a("6bcf"),a("2877")),r={},n=Object(l["a"])(r,i,s,!1,null,null,null),c=n.exports,h=a("8c4f"),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("el-container",{staticStyle:{height:"100%"}},[e("el-aside",{staticClass:"aside",attrs:{width:"300px"}},[e("div",{staticClass:"search"},[e("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入类别名"},model:{value:t.categoryName,callback:function(e){t.categoryName=e},expression:"categoryName"}}),e("el-button",{staticClass:"btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1),e("div",{staticClass:"menu"},[e("el-menu",{attrs:{"unique-opened":!0,"default-active":t.categoryId,"active-text-color":"#409eff"},on:{select:t.getSelect}},t._l(t.categoryList,(function(a){return e("el-submenu",{key:a.category.id,attrs:{index:String(a.category.id)}},[e("template",{slot:"title"},[t._v(t._s(a.category.identifier+"_"+a.category.title))]),t._l(a.sonCategory,(function(a){return[null!=a.sonCategory&&a.sonCategory.length>0?e("el-submenu",{key:a.category.id,attrs:{index:String(a.category.id)}},[e("template",{slot:"title"},[t._v(t._s(a.category.identifier+"_"+a.category.title))]),t._l(a.sonCategory,(function(a){return[null!=a.sonCategory&&a.sonCategory.length>0?e("el-submenu",{key:a.category.id,attrs:{index:String(a.category.id)}},[e("template",{slot:"title"},[t._v(t._s(a.category.identifier+"_"+a.category.title))]),t._l(a.sonCategory,(function(a){return e("el-menu-item",{key:a.category.id,attrs:{index:String(a.category.id)}},[t._v(t._s(a.category.identifier+"_"+a.category.title))])}))],2):e("el-menu-item",{key:a.category.id,attrs:{index:String(a.category.id)}},[e("template",{slot:"title"},[t._v(t._s(a.category.identifier+"_"+a.category.title))])],2)]}))],2):e("el-menu-item",{key:a.category.id,attrs:{index:String(a.category.id)}},[e("template",{slot:"title"},[t._v(t._s(a.category.identifier+"_"+a.category.title))])],2)]}))],2)})),1)],1),e("div",{staticClass:"mapping"},[e("router-link",{attrs:{to:"/search"}},[t._v("匹配")])],1)]),e("el-main",[e("div",{staticClass:"tableHeader"},[t._v(" "+t._s(t.tabName||"表名")+" ")]),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{data:t.tableData,"table-layout":"auto",stripe:"",border:"",height:"500","min-height":"calc(100% - 85px)","max-height":"calc(100% - 85px)","header-cell-style":{background:"#a6c3e2",color:"#fff"}}},[e("el-table-column",{attrs:{prop:"id",label:"序号","min-width":"80","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"englishName",label:"英文名称","min-width":"150","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"chineseName",label:"中文名称","min-width":"120","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"description",label:"字段描述","min-width":"250","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"unit",label:"单位","min-width":"80","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"typePrecision",label:"类型与精度","min-width":"100","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"rangeConstraint",label:"值域/约束","min-width":"220","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"referenceVariable",label:"引用变量","min-width":"100","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"typeCode",label:"类别码","min-width":"80","show-overflow-tooltip":""}})],1),e("div",{staticClass:"block"},[e("el-button",{staticStyle:{height:"100%",width:"100px"},attrs:{type:"primary"}},[t._v("导入新标准"),e("i",{staticClass:"el-icon-upload el-icon--right"})]),e("el-button",{staticStyle:{height:"100%",width:"100px"},attrs:{type:"primary",icon:"el-icon-share"}},[t._v("导出新标准")])],1)],1)],1)],1)},p=[],d={name:"Home",components:{},data(){return{categoryName:"",categoryList:[],keyPath:[],tableData:[],tabName:"",categoryId:null,loading:!1}},created(){this.getCategoryList()},methods:{getCategoryList(){this.$axios({method:"get",url:"/pipeline_data_sys/category/list"}).then(t=>{this.categoryList=t.data}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})},search(){""==this.categoryName?this.$message({type:"warning",message:"请输入类别名",duration:3e3,showClose:!0}):this.$axios({url:`/pipeline_data_sys/category/${this.categoryName}/search`}).then(t=>{0==t.data.length?this.$message({type:"warning",message:"请输入正确的类别名",duration:3e3,showClose:!0}):(this.keyPath=t.data,this.categoryId=this.keyPath[this.keyPath.length-1],this.getSelect(this.categoryId))}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})},getSelect(t,e){this.categoryId=t,e&&(this.keyPath=e),console.log("open",t,e),this.getTableData(this.categoryId)},getTableData(t){this.loading=!0,this.$nextTick(()=>{this.$refs.table.bodyWrapper.scrollTop=0}),this.$axios({method:"get",url:`/pipeline_data_sys/attribute/${t}/list`}).then(t=>{0!=t.data.attributes.length?(this.tableData=t.data.attributes,this.tabName=this.tableData[0].tabName):(this.tableData=[],this.tabName=null)}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})}).finally(()=>{setTimeout(()=>{this.loading=!1},400)})},handleCurrentChange(t){this.loading=!0,this.$nextTick(()=>{this.$refs.table.bodyWrapper.scrollTop=0}),this.$axios({url:"/pipeline_data_sys/attribute/"+this.categoryId}).then(t=>{setTimeout(()=>{this.loading=!1},400),this.tableData=t.data.attributes}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})}}},g=d,m=(a("4a1e"),Object(l["a"])(g,u,p,!1,null,"5a2424a2",null)),b=m.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("div",{staticClass:"mapping"},[e("el-select",{staticClass:"select",attrs:{placeholder:"请选择匹配的字段类型"},model:{value:t.colName,callback:function(e){t.colName=e},expression:"colName"}},t._l(t.colsList,(function(t){return e("el-option",{key:t.col,attrs:{label:t.col,value:t.name}})})),1),e("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入要匹配的字段值"},model:{value:t.colValue,callback:function(e){t.colValue=e},expression:"colValue"}}),e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("匹配")])],1),e("div",{staticClass:"dataShow"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"700","max-height":"calc(100% - 50px)","min-height":"calc(100% - 50px)",border:"",stripe:"","header-cell-style":{background:"#a6c3e2",color:"#fff"}}},[e("el-table-column",{attrs:{prop:"id",label:"序号","min-width":"80","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"identifier",label:"编号","min-width":"120","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"title",label:"类别","min-width":"120","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"englishName",label:"英文名称","min-width":"200","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"chineseName",label:"中文名称","min-width":"150","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"description",label:"字段描述","min-width":"250","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"unit",label:"单位","min-width":"80","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"typePrecision",label:"类型与精度","min-width":"100","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"rangeConstraint",label:"值域/约束","min-width":"220","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"referenceVariable",label:"引用变量","min-width":"100","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"typeCode",label:"类别码","min-width":"80","show-overflow-tooltip":""}})],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)],1)])},y=[],w={name:"Search",data(){return{colsList:[],colName:"",colValue:"",tableData:[],loading:!1,currentPage:1,pageSize:200,total:200}},components:{},computed:{},created(){this.getColsList()},methods:{getColsList(){this.$axios({url:"/pipeline_data_sys/attribute/cols"}).then(t=>{this.colsList=t.data}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})},search(){""==this.colName?this.$message({type:"error",message:"请选择要匹配的字段类型",duration:3e3,showClose:!0}):""==this.colValue?this.$message({type:"error",message:"请输入要匹配的字段值",duration:3e3,showClose:!0}):(this.loading=!0,this.$nextTick(()=>{this.$refs.table.bodyWrapper.scrollTop=0}),this.$axios({url:`/pipeline_data_sys/attribute/${this.colName}/search/${this.colValue}`,params:{pageSize:this.pageSize/10}}).then(t=>{this.tableData=[],0!=t.data.length?(this.total=10*t.data[0].total,t.data.forEach(t=>{t.attributes.forEach(e=>{e.title=t.title,e.identifier=t.identifier}),this.tableData=this.tableData.concat(t.attributes)})):this.$message({type:"info",message:"未找到匹配数据",duration:3e3,showClose:!0})}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})}).finally(()=>{setTimeout(()=>{this.loading=!1},400)}))},handleCurrentChange(t){this.loading=!0,this.$nextTick(()=>{this.$refs.table.bodyWrapper.scrollTop=0}),this.$axios({url:`/pipeline_data_sys/attribute/${this.colName}/search/${this.colValue}`,params:{pageNum:t,pageSize:this.pageSize/10}}).then(t=>{this.tableData=[],t.data.forEach(t=>{t.attributes.forEach(e=>{e.title=t.title,e.identifier=t.identifier}),this.tableData=this.tableData.concat(t.attributes)}),setTimeout(()=>{this.loading=!1},400)}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})}}},v=w,_=(a("5a49"),Object(l["a"])(v,f,y,!1,null,"9d624a06",null)),C=_.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"calc(100vh - 60px)",background:"#ecf5ff"}},[e("div",{staticClass:"login-box"},[e("h2",[t._v("登录系统")]),e("form",[e("div",{staticClass:"user-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",name:"",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),e("label",[t._v("账号")])]),e("div",{staticClass:"user-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("label",[t._v("密码")])]),t._v("              "),e("a",{on:{click:t.handleSubmit}},[e("span"),e("span"),e("span"),e("span"),t._v(" 登录 ")]),t._v("          "),e("a",{on:{click:t.signUp_asd}},[t._v("注册 ")])])])])},$=[],k=(a("14d9"),a("bc3a")),S=a.n(k),N={name:"Login",data(){return{username:"admin",password:"admin",msg:""}},methods:{signUp_asd(){},open1(){this.$message({showClose:!0,message:this.msg,type:"warning"})},open2(){this.$message({showClose:!0,message:this.msg,type:"success"})},open3(){this.$message({showClose:!0,message:this.msg,type:"error"})},handleSubmit(){""===this.username||""===this.password?(this.msg="请输入账号密码",this.open3()):this.$router.push("/home")}}},P=N,T=(a("5143"),Object(l["a"])(P,x,$,!1,null,null,null)),D=T.exports;o["default"].use(h["a"]);const O=[{path:"",redirect:"/login"},{path:"/login",component:D},{path:"/home",name:"Home",component:b},{path:"/search",name:"Search",component:C}],j=new h["a"]({mode:"hash",base:"/",routes:O});var L=j,V=a("5c96"),z=a.n(V),I=(a("0fae"),a("b06b")),E=a.n(I);a("3aff"),a("e382");o["default"].config.productionTip=!1,o["default"].use(z.a),o["default"].use(E.a),S.a.defaults.baseURL="http://www.dunkcode.cn:8080",S.a.defaults.timeout=5e3,o["default"].prototype.$axios=S.a,new o["default"]({router:L,render:t=>t(c)}).$mount("#app")},"5a49":function(t,e,a){"use strict";a("76f3")},6904:function(t,e,a){},"6bcf":function(t,e,a){"use strict";a("4f91")},"76f3":function(t,e,a){},e382:function(t,e,a){}});
//# sourceMappingURL=app.a4a0a4a6.js.map