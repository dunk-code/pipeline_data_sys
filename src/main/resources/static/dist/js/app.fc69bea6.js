(function(t){function e(e){for(var i,n,l=e[0],o=e[1],c=e[2],d=0,h=[];d<l.length;d++)n=l[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&h.push(r[n][0]),r[n]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,l=1;l<a.length;l++){var o=a[l];0!==r[o]&&(i=!1)}i&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},r={app:0},s=[];function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"3aff":function(t,e,a){},"3b35":function(t,e,a){},5498:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("el-header",[t._v("管道公司数据标准管理平台")]),e("router-view")],1)},s=[],n=(a("fd3b"),a("2877")),l={},o=Object(n["a"])(l,r,s,!1,null,null,null),c=o.exports,u=a("8c4f"),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("el-container",{staticStyle:{height:"100%"}},[e("el-aside",{staticClass:"aside",attrs:{width:"300px"}},[e("div",{staticClass:"search"},[e("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入identifier,如G0101"},model:{value:t.identifier,callback:function(e){t.identifier=e},expression:"identifier"}}),e("el-button",{staticClass:"btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1),e("div",{staticClass:"menu"},[e("el-menu",{attrs:{"default-openeds":t.keyPath,"unique-opened":!0},on:{open:t.handleOpen,close:t.handleClose}},t._l(t.categoryList,(function(a){return e("el-submenu",{key:a.category.identifier,attrs:{index:String(a.category.id)}},[e("template",{slot:"title"},[t._v(t._s(a.category.identifier+"_"+a.category.title))]),t._l(a.sonCategory,(function(a){return e("el-submenu",{key:a.category.identifier,attrs:{index:String(a.category.id)}},[e("template",{slot:"title"},[t._v(t._s(a.category.identifier+"_"+a.category.title))]),t._l(a.sonCategory,(function(a){return e("el-submenu",{key:a.category.identifier,attrs:{index:String(a.category.id)}},[e("template",{slot:"title"},[t._v(t._s(a.category.identifier+"_"+a.category.title))]),t._l(a.sonCategory,(function(a){return e("el-menu-item",{key:a.category.identifier,attrs:{index:String(a.category.id)}},[t._v(t._s(a.category.identifier+"_"+a.category.title))])}))],2)}))],2)}))],2)})),1)],1),e("div",{staticClass:"mapping"},[e("router-link",{attrs:{to:"/search"}},[t._v("匹配（跳转）")])],1)]),e("el-main",[e("div",{staticClass:"tableHeader"},[t._v(" "+t._s(t.tabName||"表名")+" ")]),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",height:"550",border:""}},[e("af-table-column",{attrs:{prop:"id",label:"序号"}}),e("af-table-column",{attrs:{prop:"englishName",label:"英文名称",width:"180"}}),e("af-table-column",{attrs:{prop:"chineseName",label:"中文名称",width:"180"}}),e("af-table-column",{attrs:{prop:"description",label:"字段描述"}}),e("af-table-column",{attrs:{prop:"unit",label:"单位"}}),e("af-table-column",{attrs:{prop:"typePrecision",label:"类型与精度"}}),e("af-table-column",{attrs:{prop:"rangeConstraint",label:"值域/约束"}})],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)],1)],1)],1)},h=[],p={name:"Home",components:{},data(){return{identifier:"",categoryList:[],keyPath:[],tableData:[],tabName:"",categoryId:null,pageSize:100,total:100,loading:!1,currentPage:1}},created(){this.getCategoryList()},methods:{getCategoryList(){this.$axios({method:"get",url:"/pipeline_data_sys/category/list"}).then(t=>{this.categoryList=t.data}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})},search(){""==this.identifier?this.$message({type:"warning",message:"请输入identifier",duration:3e3,showClose:!0}):this.$axios({url:`/pipeline_data_sys/category/${this.identifier}/search`}).then(t=>{0==t.data.length?this.$message({type:"warning",message:"请输入正确的identifier",duration:3e3,showClose:!0}):(this.keyPath=t.data,this.categoryId=this.keyPath[this.keyPath.length-1],this.handleOpen(this.categoryId,this.keyPath),this.$forceUpdate())}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})},handleOpen(t,e){this.categoryId=t,this.keyPath=e,this.getTableData(this.categoryId)},getTableData(t){this.loading=!0,this.$axios({method:"get",url:"/pipeline_data_sys/attribute/"+t}).then(t=>{setTimeout(()=>{this.loading=!1},400),this.total=100,0!=t.data.length?(this.tableData=t.data.attributes,this.tabName=this.tableData[0].tabName,this.total=10*t.data.total):this.tableData=[]}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})},handleClose(){},handleCurrentChange(t){this.loading=!0,this.$axios({url:"/pipeline_data_sys/attribute/"+this.categoryId,params:{pageNum:t}}).then(t=>{setTimeout(()=>{this.loading=!1},400),this.tableData=t.data.attributes}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})}}},g=p,f=(a("905d"),Object(n["a"])(g,d,h,!1,null,"783e681b",null)),b=f.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("div",{staticClass:"mapping"},[e("el-select",{staticClass:"select",attrs:{placeholder:"请选择"},model:{value:t.colName,callback:function(e){t.colName=e},expression:"colName"}},t._l(t.colsList,(function(t){return e("el-option",{key:t.col,attrs:{label:t.col,value:t.name}})})),1),e("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入内容"},model:{value:t.colValue,callback:function(e){t.colValue=e},expression:"colValue"}}),e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("匹配")])],1),e("div",{staticClass:"dataShow"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"500",border:"",stripe:""}},[e("af-table-column",{attrs:{prop:"id",label:"id"}}),e("af-table-column",{attrs:{prop:"title",label:"title"}}),e("af-table-column",{attrs:{prop:"identifier",label:"identifier"}}),e("af-table-column",{attrs:{prop:"englishName",label:"英文名称",width:"180"}}),e("af-table-column",{attrs:{prop:"chineseName",label:"中文名称",width:"180"}}),e("af-table-column",{attrs:{prop:"description",label:"字段描述"}}),e("af-table-column",{attrs:{prop:"unit",label:"单位"}}),e("af-table-column",{attrs:{prop:"typePrecision",label:"类型与精度"}}),e("af-table-column",{attrs:{prop:"rangeConstraint",label:"值域/约束"}})],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)],1)])},y=[],v={name:"Search",data(){return{colsList:[],colName:"",colValue:"",tableData:[],loading:!1,currentPage:1,pageSize:100,total:100}},components:{},computed:{},created(){this.getColsList()},methods:{getColsList(){this.$axios({url:"/pipeline_data_sys/attribute/cols"}).then(t=>{console.log("colsList",t),this.colsList=t.data}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})},search(){""==this.colName?this.$message({type:"error",message:"请选择colName",duration:3e3,showClose:!0}):""==this.colValue?this.$message({type:"error",message:"请输入colValue",duration:3e3,showClose:!0}):(this.loading=!0,this.$axios({url:`/pipeline_data_sys/attribute/${this.colName}/search/${this.colValue}`}).then(t=>{this.tableData=[],this.total=10*t.data[0].total,t.data.forEach(t=>{t.attributes.forEach(e=>{e.title=t.title,e.identifier=t.identifier}),this.tableData=this.tableData.concat(t.attributes)}),setTimeout(()=>{this.loading=!1},400)}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})}))},handleCurrentChange(t){this.loading=!0,this.$axios({url:`/pipeline_data_sys/attribute/${this.colName}/search/${this.colValue}`,params:{pageNum:t}}).then(t=>{this.tableData=[],t.data.forEach(t=>{t.attributes.forEach(e=>{e.title=t.title,e.identifier=t.identifier}),this.tableData=this.tableData.concat(t.attributes)}),setTimeout(()=>{this.loading=!1},400)}).catch(t=>{this.$message({type:"error",message:"网络出错了",duration:3e3,showClose:!0})})}}},_=v,C=(a("cc28"),Object(n["a"])(_,m,y,!1,null,"53b6e9e6",null)),w=C.exports;i["default"].use(u["a"]);const x=[{path:"/",name:"Home",component:b},{path:"/search",name:"Search",component:w}],P=new u["a"]({mode:"history",base:"/",routes:x});var $=P,k=a("5c96"),N=a.n(k),S=(a("0fae"),a("b06b")),O=a.n(S),D=(a("3aff"),a("e382"),a("bc3a")),j=a.n(D);i["default"].config.productionTip=!1,i["default"].use(N.a),i["default"].use(O.a),j.a.defaults.baseURL="http://www.dunkcode.cn:8080",j.a.defaults.timeout=5e3,i["default"].prototype.$axios=j.a,new i["default"]({router:$,render:t=>t(c)}).$mount("#app")},"905d":function(t,e,a){"use strict";a("d7f7")},cc28:function(t,e,a){"use strict";a("3b35")},d7f7:function(t,e,a){},e382:function(t,e,a){},fd3b:function(t,e,a){"use strict";a("5498")}});
//# sourceMappingURL=app.fc69bea6.js.map